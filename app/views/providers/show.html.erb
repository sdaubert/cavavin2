<p id="notice"><%= notice %></p>

<div class="group">
  <h2>Provider #<%= @provider.id %></h2>

  <ul>
    <li>Name: <%= @provider.name %></li>
    <% unless @provider.address.empty? && @provider.zip.empty? && @provider.city.empty? %>
    <li>
      Address: <%= @provider.address %>
      <%= @provider.zip %> <%= @provider.city %>
    </li>
    <%end%>
    <% if @provider.country %>
    <li>Country: <%= @provider.country.name %></li>
    <%end%>
    <% unless @provider.phone.empty? %>
    <li>Phone: <%= @provider.phone %></li>
    <%end%>
    <% unless @provider.web.empty? %>
    <li>Web: <%= link_to h(@provider.web), @provider.web %></li>
    <%end%>
    <% unless @provider.email.empty? %>
    <li>E-mail: <%= mail_to @provider.email %></li>
    <%end%>
    <% unless @provider.notes.empty? %>
    <li class="notes">Notes:
      <p><%= @provider.notes %></p>
    </li>
    <%end%>
  </ul>
</div>

<div class="group">
  <h2>Known wines</h2>

  <h3>Wines to drink</h3>
  <% if @millesimes_to_drink.count.positive? %>
    <ul>
      <% @millesimes_to_drink.each do |mil| %>
        <li>
          <% wine = mil.wine %>
          <%= link_to "#{wine.domain} #{mil.year}", wine_millesime_path(wine, mil) %>,
          <%= wine.region.name %> <%= wine.color.name %>
        </li>
      <% end %>
    </ul>
  <% else %>
    <p>No known wines from this producer.</p>
  <% end %>

  <h3>Drunk wines</h3>
  <% if @drunk_millesimes.count.positive? %>
    <ul>
      <% @drunk_millesimes.each do |mil| %>
        <li>
          <% wine = mil.wine %>
          <%= link_to "#{wine.domain} #{mil.year}", wine_millesime_path(wine, mil) %>,
          <%= wine.region.name %> <%= wine.color.name %>
        </li>
      <% end %>
    </ul>
  <% else %>
    <p>No known drunk wines from this producer.</p>
  <% end %>
</div>

<%= link_to 'Edit', edit_provider_path(@provider) %> |
<%= link_to 'Back', providers_path %>
